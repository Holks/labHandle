{% extends "base.html" %}

{% block app_head %}

<!-- Drag-n-Drop CSS -->
<link href="../static/css/drag-n-drop.css" rel="stylesheet">
{% endblock %}

{% block app_content %}
<h2>Some descriptive chart or ...</h2>
<ul class="pagination">
    <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                
            </tr>
        </thead>
        <tbody>
            <tr>
               
            </tr>
        </tbody>
    </table>        
</ul>

<!-- Standar Form -->
<h4>Select files from your computer</h4>
<form action="{{ url_for('main.upload_file') }}" method="post" enctype="multipart/form-data" id="js-upload-form">
    <div class="form-inline">
        <div class="form-group">
            <input type="file" name="files[]" id="js-upload-files" multiple>
        </div>
        <button type="submit" class="btn btn-sm btn-primary" id="js-upload-submit">Upload files</button>
    </div>
</form>

<!-- Drop Zone -->
<h4>Or drag and drop files below</h4>
<div class="upload-drop-zone" id="drop-zone">
Just drag and drop files here
</div>

 <!-- Progress Bar -->
<div class="progress">
<div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
  <span class="sr-only">60% Complete</span>
</div>
</div>

<!-- Upload Finished -->
  <div class="js-upload-finished">
    <h3>Processed files</h3>
    <div class="list-group">
      <a href="#" class="list-group-item list-group-item-success"><span class="badge alert-success pull-right">Success</span>image-01.jpg</a>
      <a href="#" class="list-group-item list-group-item-success"><span class="badge alert-success pull-right">Success</span>image-02.jpg</a>
    </div>
  </div>
          
{% endblock %}

{% block app_scripts %}
    <script>
        + function($) {
        'use strict';

        // UPLOAD CLASS DEFINITION
        // ======================

        var dropZone = document.getElementById('drop-zone');
        var uploadForm = document.getElementById('js-upload-form');

        var startUpload = function(files) {
            console.log(files)
        }

        uploadForm.addEventListener('submit', function(e) {
            var uploadFiles = document.getElementById('js-upload-files').files;
            //e.preventDefault()

            startUpload(uploadFiles)
        })

        dropZone.ondrop = function(e) {
            e.preventDefault();
            this.className = 'upload-drop-zone';

            startUpload(e.dataTransfer.files)
        }

        dropZone.ondragover = function() {
            this.className = 'upload-drop-zone drop';
            return false;
        }

        dropZone.ondragleave = function() {
            this.className = 'upload-drop-zone';
            return false;
        }

    }(jQuery);
    </script>
{% endblock %}
